---
description: Per gli exploit forniti in C o linguaggi che devono essere compilati
---

# Cross-Compiling Exploits

<figure><img src="../../.gitbook/assets/image (1267).png" alt=""><figcaption></figcaption></figure>

Identifichiamo l'exploit in C che andremo a cross-compilare per target Windows:

<figure><img src="../../.gitbook/assets/image (1268).png" alt=""><figcaption></figcaption></figure>

Identifichiamo l'exploit in C che andremo a cross-compilare per target Linux:

<figure><img src="../../.gitbook/assets/image (1269).png" alt=""><figcaption></figcaption></figure>

## Cross-Compiling

### Windows compilation on Linux

Avremo bisogno di due tool: MinGW-w64 e gcc

```
sudo apt-get install mingw-w64
sudo apt-get install gcc
```

<figure><img src="../../.gitbook/assets/image (1271).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../.gitbook/assets/image (1270).png" alt=""><figcaption></figcaption></figure>

{% hint style="info" %}
Consiglia di compilare l'exploit in versione 32bit così va anche sui 64bit
{% endhint %}

#### Compilazione exploit

```
searchsploit VideoLAN VLC SMB
searchsploit -m 9303
ls
vim 9303.py
i686-w64-mingw32-gcc 9303.c -o exploit ##per compilare a 64 bit
ls
i686-w64-mingw32-gcc 9303.c -o exploit -lws2_32 ##per compilare a 32bit
ls
```

<figure><img src="../../.gitbook/assets/image (1272).png" alt=""><figcaption></figcaption></figure>

Identifichiamo quello con numero ID 9303:

<figure><img src="../../.gitbook/assets/image (1273).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../.gitbook/assets/image (1274).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../.gitbook/assets/image (1275).png" alt=""><figcaption></figcaption></figure>

Per compilare per 32bit dobbiamo usare i686-w64-mingw32-gcc:

<figure><img src="../../.gitbook/assets/image (1276).png" alt=""><figcaption></figcaption></figure>

Se non ci dà errori allora ha compilato correttamente.

<figure><img src="../../.gitbook/assets/image (1277).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../.gitbook/assets/image (1278).png" alt=""><figcaption></figcaption></figure>

### Linux compilation on Linux

L'exploit ci fornisce nei commenti le istruzioni corrette per compilarlo:

<figure><img src="../../.gitbook/assets/image (1279).png" alt=""><figcaption></figcaption></figure>

```
searchsploit Dirty Cow ##ci concentriamo sul 40839
searchsploit -m 40839
gcc -pthread dirty.c -o dirty -lcrypt ##facciamo una compilazione normale secondo l'indicazione dell'exploit stesso.
ls -al
```

<figure><img src="../../.gitbook/assets/image (1280).png" alt=""><figcaption></figcaption></figure>

## Fonte utile di exploit binaries (Offensive Security bin sploits Github repository)

Contiene delle versioni precompilate dei binari degli exploit per Windows e Linux.

<figure><img src="../../.gitbook/assets/image (1281).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../.gitbook/assets/image (1283).png" alt=""><figcaption></figcaption></figure>
